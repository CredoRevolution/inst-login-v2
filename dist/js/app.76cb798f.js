(function(){"use strict";var t={9843:function(t,n,e){var o=e(6848),s=function(){var t=this,n=t._self._c;return n("div",{staticClass:"app",attrs:{id:"app"}},[t.authorised?n("div",{staticClass:"authorized"},[n("button",{staticClass:"get-posts-button",on:{click:function(n){return n.preventDefault(),t.getPosts.apply(null,arguments)}}},[t._v(" getPosts ")]),n("div",{staticClass:"inst-acc"},[n("p",[t._v(t._s(t.instAcc.accUsername))]),n("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.instAcc.accProfilePic,width:"200",height:"200"}})]),t.posts.length?n("div",{staticClass:"posts"},t._l(t.posts,(function(e){return n("div",{key:e.id,staticClass:"post"},[n("img",{attrs:{src:e.media_url,width:"200",height:"200"}}),n("p",[t._v(t._s(e.caption))])])})),0):t._e()]):n("button",{staticClass:"login-button",on:{click:function(n){return n.preventDefault(),t.login.apply(null,arguments)}}},[t._v(" login ")])])},i=[];let c=!1;const a=e(6425);var r={name:"App",data(){return{authorised:!1,posts:[],accessToken:"",instAcc:{accId:"",accUsername:"",accProfilePic:""}}},methods:{login(){c?FB.login((t=>{console.log("FB.login",t),this.statusChangeCallback(t)}),{scope:"public_profile,instagram_basic"}):console.warn("FB.init() must be called before FB.login()")},statusChangeCallback(t){"connected"===t.status?(console.log("connected"),this.authorised=!0,this.accessToken=t.authResponse.accessToken):"not_authorized"===t.status&&(console.log("not_authorized"),this.authorised=!1)},getPosts(){this.authorised?a.get(`https://graph.facebook.com/v19.0/me/accounts?fields=instagram_business_account{id,name,username,profile_picture_url}&access_token=${this.accessToken}`,{headers:{"Content-Type":"application/json"}}).then((t=>{const n=t.data.data[0].instagram_business_account;this.instAcc.accId=n.id,this.instAcc.accUsername=n.username,this.instAcc.accProfilePic=n.profile_picture_url})).catch((t=>{console.error(t)})).then((()=>{a.get(`https://graph.facebook.com/v19.0/${this.instAcc.accId}/media?fields=media_url,caption&access_token=${this.accessToken}`,{headers:{"Content-Type":"application/json"}}).then((t=>{this.posts=t.data.data})).catch((t=>{console.error(t)}))})):console.warn("login() must be called before getPosts()")}},mounted(){window.fbAsyncInit=function(){FB.init({appId:"1530852871068475",cookie:!0,xfbml:!0,version:"v19.0"}),c=!0,FB.AppEvents.logPageView()},function(t,n,e){var o,s=t.getElementsByTagName(n)[0];t.getElementById(e)||(o=t.createElement(n),o.id=e,o.src="https://connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(o,s))}(document,"script","facebook-jssdk")}},u=r,l=e(1656),p=(0,l.A)(u,s,i,!1,null,"c3f50236",null),f=p.exports;o.Ay.config.productionTip=!1,new o.Ay({render:t=>t(f)}).$mount("#app")}},n={};function e(o){var s=n[o];if(void 0!==s)return s.exports;var i=n[o]={exports:{}};return t[o].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(n,o,s,i){if(!o){var c=1/0;for(l=0;l<t.length;l++){o=t[l][0],s=t[l][1],i=t[l][2];for(var a=!0,r=0;r<o.length;r++)(!1&i||c>=i)&&Object.keys(e.O).every((function(t){return e.O[t](o[r])}))?o.splice(r--,1):(a=!1,i<c&&(c=i));if(a){t.splice(l--,1);var u=s();void 0!==u&&(n=u)}}return n}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[o,s,i]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var s,i,c=o[0],a=o[1],r=o[2],u=0;if(c.some((function(n){return 0!==t[n]}))){for(s in a)e.o(a,s)&&(e.m[s]=a[s]);if(r)var l=r(e)}for(n&&n(o);u<c.length;u++)i=c[u],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(l)},o=self["webpackChunkinstagram_api"]=self["webpackChunkinstagram_api"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[504],(function(){return e(9843)}));o=e.O(o)})();
//# sourceMappingURL=app.76cb798f.js.map