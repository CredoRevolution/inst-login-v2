(function(){"use strict";var t={2737:function(t,e,n){var o=n(6848),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"facebook"},[e("button",{staticClass:"facebook-login-btn",on:{click:function(e){return e.preventDefault(),t.loginFacebook.apply(null,arguments)}}},[t._v(" facebook ")]),e("ul",[t.isLoggedIn?e("li",[t._v(t._s(t.user))]):t._e(),t.isLoggedIn?e("li",t._l(t.postsFacebook,(function(n){return e("div",{key:n.id,staticClass:"post"},[n.full_picture?e("img",{attrs:{src:n.full_picture}}):t._e(),n.description?e("p",[t._v(t._s(n.description))]):t._e()])})),0):t._e()])]),e("div",{staticClass:"instagram"},[e("button",{staticClass:"instagram-login-btn",on:{click:function(e){return e.preventDefault(),t.loginInstagram.apply(null,arguments)}}},[t._v(" instagram ")]),e("ul",[t.isLoggedInInstagram?e("li",t._l(t.postsInstagram,(function(n){return e("div",{key:n.id,staticClass:"post"},[n.images?e("img",{attrs:{src:n.images.thumbnail.url}}):t._e(),n.caption?e("p",[t._v(t._s(n.caption.text))]):t._e()])})),0):t._e()])])])])},i=[];n(4603),n(7566),n(8721);const a=n(6425);var r={name:"App",data(){return{isLoggedIn:!1,isLoggedInInstagram:!1,user:null,postsFacebook:[],postsInstagram:[]}},mounted(){window.fbAsyncInit=()=>{"undefined"!==typeof window.FB&&(window.FB.init({appId:"1664478101039678",cookie:!0,xfbml:!0,version:"v10.0"}),window.FB.AppEvents.logPageView())},((t,e,n)=>{var o,s=t.getElementsByTagName(e)[0];t.getElementById(n)||(o=t.createElement(e),o.id=n,o.src="https://connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(o,s))})(document,"script","facebook-jssdk")},methods:{loginFacebook(){"undefined"!==typeof window.FB&&window.FB.login(this.checkLoginState,{scope:"public_profile,email,user_posts"})},checkLoginState(t){this.statusChangeCallback(t)},statusChangeCallback(t){console.log(t),"connected"===t.status?(this.isLoggedIn=!0,window.FB.api("/me",{fields:"id,name,email",access_token:t.authResponse.accessToken},(t=>{this.user=t})),window.FB.api("/me?fields=posts{description,full_picture}",{limit:10,access_token:t.authResponse.accessToken},(t=>{console.log(t),this.postsFacebook=t.posts.data.filter((t=>t.description||t.full_picture))}))):(this.isLoggedIn=!1,this.user=null)},loginInstagram(){const t=new URL(window.location.href);window.open(`https://api.instagram.com/oauth/authorize/?client_id=773337728107206&appSecret=d73fb062456e9ff67b314f315c95b1fd&redirect_uri=${t}/&scope=user_profile,user_media&response_type=code`,"_self")},statusChangeCallbackInstagram(t){const e=t;e?(this.isLoggedInInstagram=!0,this.fetchInstagramPosts(e),console.log(e)):(this.isLoggedInInstagram=!1,this.user=null)},fetchInstagramPosts(t){a.post(`https://graph.instagram.com/access_tokengrant_type=ig_exchange_token&client_secret=d73fb062456e9ff67b314f315c95b1fd&access_token=${t}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((t=>{const e=t.data.user_id,n=t.data.access_token;a.get(`https://graph.instagram.com/${e}/media`,{params:{fields:"id,media_type",access_token:n}}).then((t=>{this.postsInstagram=t.data.data.filter((t=>"IMAGE"===t.media_type))})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t)}))}},created(){const t=new URL(window.location.href),e=new URLSearchParams(t.search),n=e.get("code");console.log(n),n&&this.statusChangeCallbackInstagram(n)}},c=r,l=n(1656),u=(0,l.A)(c,s,i,!1,null,null,null),p=u.exports;o.Ay.config.productionTip=!1,new o.Ay({render:t=>t(p)}).$mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,i){if(!o){var a=1/0;for(u=0;u<t.length;u++){o=t[u][0],s=t[u][1],i=t[u][2];for(var r=!0,c=0;c<o.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(r=!1,i<a&&(a=i));if(r){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[o,s,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,i,a=o[0],r=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var u=c(n)}for(e&&e(o);l<a.length;l++)i=a[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},o=self["webpackChunkinst_login_v2"]=self["webpackChunkinst_login_v2"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2737)}));o=n.O(o)})();
//# sourceMappingURL=app.53330527.js.map
