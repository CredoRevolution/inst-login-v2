(function(){"use strict";var t={2729:function(t,e,n){var o=n(6848),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"facebook"},[e("button",{staticClass:"facebook-login-btn",on:{click:function(e){return e.preventDefault(),t.loginFacebook.apply(null,arguments)}}},[t._v(" facebook ")]),e("ul",[t.isLoggedIn?e("li",[t._v(t._s(t.user))]):t._e(),t.isLoggedIn?e("li",t._l(t.postsFacebook,(function(n){return e("div",{key:n.id,staticClass:"post"},[n.full_picture?e("img",{attrs:{src:n.full_picture}}):t._e(),n.description?e("p",[t._v(t._s(n.description))]):t._e()])})),0):t._e()])]),e("div",{staticClass:"instagram"},[e("button",{staticClass:"instagram-login-btn",on:{click:t.loginInstagram}},[t._v(" instagram ")]),e("ul",[t.isLoggedInInstagram?e("li",t._l(t.postsInstagram,(function(n){return e("div",{key:n.id,staticClass:"post"},[n.media_url?e("img",{attrs:{src:n.media_url}}):t._e(),n.caption?e("p",[t._v(t._s(n.caption.text))]):t._e()])})),0):t._e()])])])])},s=[];n(4603),n(7566),n(8721);const a=n(6425)["default"];var r={name:"App",data(){return{isLoggedIn:!1,isLoggedInInstagram:!1,user:null,postsFacebook:[],postsInstagram:[]}},mounted(){window.fbAsyncInit=()=>{"undefined"!==typeof window.FB&&(window.FB.init({appId:"1664478101039678",cookie:!0,xfbml:!0,version:"v10.0"}),window.FB.AppEvents.logPageView())},((t,e,n)=>{var o,i=t.getElementsByTagName(e)[0];t.getElementById(n)||(o=t.createElement(e),o.id=n,o.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))})(document,"script","facebook-jssdk")},methods:{loginFacebook(){"undefined"!==typeof window.FB&&window.FB.login(this.checkLoginState,{scope:"public_profile,email,user_posts"})},checkLoginState(t){this.statusChangeCallback(t)},statusChangeCallback(t){console.log(t),"connected"===t.status?(this.isLoggedIn=!0,window.FB.api("/me",{fields:"id,name,email",access_token:t.authResponse.accessToken},(t=>{this.user=t})),window.FB.api("/me?fields=posts{description,full_picture}",{limit:10,access_token:t.authResponse.accessToken},(t=>{console.log(t),this.postsFacebook=t.posts.data.filter((t=>t.description||t.full_picture))}))):(this.isLoggedIn=!1,this.user=null)},loginInstagram(){const t=new URL(window.location.href),e="773337728107206",n=encodeURIComponent(t),o="user_profile,user_media";window.open(`https://api.instagram.com/oauth/authorize/?client_id=${e}&redirect_uri=${n}&scope=${o}&response_type=code`,"_self")},statusChangeCallbackInstagram(t){const e=new URL(window.location.href),n="773337728107206",o=encodeURIComponent(e.origin),i="d73fb062456e9ff67b314f315c95b1fd";a.post("https://api.instagram.com/access_token",new URLSearchParams({client_id:n,client_secret:i,grant_type:"authorization_code",redirect_uri:o,code:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).then((t=>{console.log(t.data);const e=t.data.access_token,n=t.data.user_id;return a.get(`https://graph.instagram.com/${n}/media`,{params:{fields:"id,media_url,caption",access_token:e}})})).then((t=>{this.isLoggedInInstagram=!0,this.postsInstagram=t.data.data.filter((t=>t.media_url&&t.caption))})).catch((t=>{console.log(t)}))}},created(){const t=new URL(window.location.href),e=new URLSearchParams(t.search),n=e.get("code");n&&(console.log(n),this.statusChangeCallbackInstagram(n))}},c=r,l=n(1656),u=(0,l.A)(c,i,s,!1,null,null,null),d=u.exports;o.Ay.config.productionTip=!1,new o.Ay({render:t=>t(d)}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,s){if(!o){var a=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],s=t[u][2];for(var r=!0,c=0;c<o.length;c++)(!1&s||a>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(r=!1,s<a&&(a=s));if(r){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[o,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,a=o[0],r=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(c)var u=c(n)}for(e&&e(o);l<a.length;l++)s=a[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},o=self["webpackChunkinst_login_v2"]=self["webpackChunkinst_login_v2"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2729)}));o=n.O(o)})();
//# sourceMappingURL=app.409fa452.js.map